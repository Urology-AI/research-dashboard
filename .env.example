# Database Configuration
DATABASE_URL=sqlite:///./patient_dashboard.db
# For PostgreSQL: DATABASE_URL=postgresql://user:password@localhost/patient_dashboard
# For Supabase Direct Connection (may require IPv4 add-on on some platforms):
# DATABASE_URL=postgresql+psycopg2://postgres:<URL_ENCODED_PASSWORD>@db.<PROJECT_REF>.supabase.co:5432/postgres?sslmode=require
# For Supabase Session Pooler (recommended on Render free tier):
# DATABASE_URL=postgresql+psycopg2://postgres.<PROJECT_REF>:<URL_ENCODED_PASSWORD>@aws-0-us-west-2.pooler.supabase.com:5432/postgres?sslmode=require

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000

# Frontend Configuration
REACT_APP_API_URL=http://localhost:8000

# Security (REQUIRED FOR PRODUCTION)
# Generate: python -c 'import secrets; print(secrets.token_urlsafe(32))'
SECRET_KEY=your-secret-key-change-in-production
# Generate: python -c 'from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())'
ENCRYPTION_KEY=your-encryption-key-for-sensitive-data

# Environment
ENVIRONMENT=development

# Startup preflight stages (split heavy checks)
STARTUP_PREFLIGHT_STRICT=false
STARTUP_BOOTSTRAP_DEFAULTS=false
STARTUP_RUN_CRUD_PROBE=false
STARTUP_RUN_STORAGE_PROBE=false

# Startup bootstrap (auto-create default records if missing)
BOOTSTRAP_DEFAULT_ADMIN_ENABLED=true
DEFAULT_ADMIN_USERNAME=admin
DEFAULT_ADMIN_EMAIL=admin@research-dashboard.app
# Change in production. Special chars must be URL-encoded only for DATABASE_URL, not here.
DEFAULT_ADMIN_PASSWORD=ChangeMeNow123!
# Set true for one deploy if you need to reset existing admin password from env.
DEFAULT_ADMIN_FORCE_RESET_PASSWORD=false
DEFAULT_ADMIN_FULL_NAME=Default Admin
BOOTSTRAP_BASELINE_DATA_ENABLED=true
BOOTSTRAP_DEFAULT_MRN=BETA-TEST-0001

# Security Settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
SESSION_TIMEOUT_MINUTES=15
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=30

# HTTPS/TLS (Production)
FORCE_HTTPS=false
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
# Keep localhost origins in addition to ALLOWED_ORIGINS values.
ALLOWED_ORIGINS_INCLUDE_LOCAL=true
# Temporary debug mode: allow all origins (disable once stable).
CORS_ALLOW_ALL=true
# Only used when CORS_ALLOW_ALL=false.
CORS_ALLOW_CREDENTIALS=true
# Example production origin:
# ALLOWED_ORIGINS=https://urology-ai.github.io

# REDCap Configuration (optional)
REDCAP_URL=
REDCAP_API_TOKEN=
REDCAP_DEFAULT_URL=https://redcap.example.com/api/

# Supabase Storage (for uploaded files)
SUPABASE_URL=
SUPABASE_SERVICE_ROLE_KEY=
SUPABASE_STORAGE_BUCKET=research-dashboard-storage
# In production, require successful upload to Supabase storage
SUPABASE_STORAGE_REQUIRED=false

# Audit Logging
AUDIT_LOG_RETENTION_DAYS=2190
ENABLE_AUDIT_LOGGING=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
